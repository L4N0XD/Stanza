<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Taylan Noronha">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <link rel="icon" href="https://stanza.com.br/wp-content/uploads/2021/09/cropped-ms-icon-310x310-1-32x32.png" type="image/png">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap" rel="stylesheet">    
    <title id="titulo">Login</title>
</head>
{% include "header.html" %}
<body class="bg-light">
<section id="login">
    <div class="container-fluid" style="margin-top: 5%;" >
        <div class="row justify-content-center">
                <div class="card bg-light" style="width: 500px;border: 1px solid #fb8306;box-shadow: 0px 0px 30px 1px #fb8306; border-radius: 30px;">
                    <div class="card-header text-dark mt-2 bg-light" style="border-bottom: 0;font-size: 20px;justify-content: center;display: flex; letter-spacing: 3px;">
                        Login
                    </div>
                    <div class="card-body" style="padding-top: 0;">
                        <form method="POST" style="display: grid;" >
                            {% csrf_token %}
                            <div class="mb-3">
                                <label for="username" class="form-label text-dark">E-mail</label>
                                <input type="text"style="font-size: 12px;"  class="form-control" id="username" name="username" placeholder="exemplo@stanza.com.br">
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label text-dark">Senha</label>
                                <input type="password" style="font-size: 12px;" class="form-control" onchange="checkPassword()" id="password" name="password">
                            </div>
                            <button type="submit" disabled id="entrar" class="btn btn-stanza">Entrar</button>
                        </form>
                            <button id="cadastro" class="btn btn-stanza mt-2 mb-3" style="width: 100%;">Cadastrar</button>
                    </div>
            </div>
        </div>
    </div>
</section>

<section id="signup">
    <div class="container-fluid" style="margin-top: 2%;" >
        <div class="row justify-content-center">
            <div class="card bg-light" style="width: 500px;border: 1px solid #fb8306;box-shadow: 0px 0px 30px 1px #fb8306; border-radius: 30px;">
                <div class="card-header text-dark mt-2 bg-light" style="border-bottom: 0;font-size: 20px;justify-content: center;display: flex; letter-spacing: 3px;">
                    Cadastro
                    </div>
                    <div class="card-body" style="padding-top: 0;">
                        <form method="POST" action=" {% url 'cadastro' %}">
                            {% csrf_token %}
                            <div class="mb-3">
                                <label for="username" class="form-label text-dark">E-mail</label>
                                <input type="text" style="font-size: 12px;" class="form-control" id="emailRegister" name="emailRegister" placeholder="exemplo@stanza.com.br">
                                {% if msg %}
                                <p  class="mt-0 mb-0 justify-content-center" style="color: red; display: none;">E-mail já cadastrado!</p>
                                {% endif %}
                            </div>
                            <div class="mb-3">
                                <label for="username" class="form-label text-dark">Nome</label>
                                <input type="text" style="font-size: 12px;" class="form-control" id="nomeUsuario" name="nomeUsuario" placeholder="Como deseja ser chamado(a)?">
                            </div>
                            <div class="mb-3">
                                <label for="password1" class="form-label text-dark">Senha</label>
                                <input type="password" onchange="empty_erro()" style="font-size: 12px;" class="form-control" id="password1" name="password1">
                            </div>
                            <div class="mb-3">
                                <label for="password2" class="form-label text-dark">Confirme a senha</label>
                                <input type="password" onchange="empty_erro()" style="font-size: 12px;" class="form-control" id="password2" name="password2">
                                <p id="senhasDiferentes" class="mt-2 mb-0 justify-content-center" style="color: red; display: none;">Senhas não conferem</p>
                            </div>
                            <button id="cadastrar" type="submit" disabled class="btn btn-stanza mt-2 mb-3" style="width: 100%;">Cadastrar</button>
                        </form>
                    </div>
            </div>
        </div>
    </div>
</section>
{% include "footer.html" %}
<script>
    const footer = document.querySelector(".footer-container")
    const enable = document.querySelector('#entrar')
    const password = document.querySelector('#password')
    var password1Input = document.getElementById("password1");
    var password2Input = document.getElementById("password2");
    var texto_erro = document.getElementById("senhasDiferentes");
    var cadastroButton = document.getElementById("cadastrar");
    var emailInput = document.getElementById("emailRegister");
    footer.style.width = '100%';
    cadastro = document.querySelector('#cadastro')
    registro = document.getElementById("signup");
    login = document.getElementById("login");
    cadastro.addEventListener('click', () => registrar())
    
    function registrar () {
        document.getElementById("titulo").text = 'Cadastro',
        login.style.display = 'none',
        registro.style.display = 'flex'
    }


    password.addEventListener("input", function() {
        if (password.value) {
            enable.disabled = false;
        } else {
            enable.disabled = true;
        }
    });
    
    

        password2Input.addEventListener("input", function() {
            if (password1Input.value === password2Input.value) {
                cadastroButton.disabled = false;
                texto_erro.style.display = 'none'; 
            } else {
                cadastroButton.disabled = true;
                texto_erro.style.display = 'flex'; 
            }
                
    });

    function empty_erro() {
    if (password1Input.value == '') {
        cadastroButton.disabled = true;
        texto_erro.style.display = 'none'; 
    }
    else if (password2Input.value == '') {
        cadastroButton.disabled = true;
        texto_erro.style.display = 'none'; 
    }
};
    
</script>
    </body>
<style>
    #login {
        display: flex;
    }
    #signup {
        display: none;
    }
    .form-control::placeholder {
        color: #c8c8c8;
    }


</style>

    
</html>